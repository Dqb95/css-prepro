
const data = [
  {
      "itemId": "1563041",
      "itemName": "Autokamera TrueCam H5 WiFi čierna",
      "itemUrl": "https://www.datart.sk/autokamera-truecam-h5-cierna.html",
      "img": "https://www.datart.sk/foto/250/8/4/3/product_3686348.jpg",
      "currentPrice": "95.00",
      "originalPrice": "179.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1579908",
      "itemName": "Autokamera Niceboy PILOT XR čierna",
      "itemUrl": "https://www.datart.sk/autokamera-niceboy-pilot-xr-cierna.html",
      "img": "https://www.datart.sk/foto/250/6/8/5/product_3988586.jpg",
      "currentPrice": "99.00",
      "originalPrice": "269.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1561662",
      "itemName": "Autokamera Niceboy PILOT Q8 čierna",
      "itemUrl": "https://www.datart.sk/autokamera-niceboy-pilot-q8-cierna.html",
      "img": "https://www.datart.sk/foto/250/3/1/6/product_3877613.jpg",
      "currentPrice": "79.00",
      "originalPrice": "159.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1586139",
      "itemName": "Autokamera TrueCam H7 GPS 2.5K (s detekciou radarov) čierna",
      "itemUrl": "https://www.datart.sk/autokamera-truecam-h7-cierna.html",
      "img": "https://www.datart.sk/foto/250/6/8/3/product_4133386.jpg",
      "currentPrice": "116.00",
      "originalPrice": "199.90",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1579343",
      "itemName": "Autokamera Navitel R1050 čierna",
      "itemUrl": "https://www.datart.sk/autokamera-navitel-r1050-cierna.html",
      "img": "https://www.datart.sk/foto/250/0/1/5/product_3980510.jpg",
      "currentPrice": "79.00",
      "originalPrice": "99.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1584676",
      "itemName": "Autokamera LAMAX S9 Dual GPS (s detekciou radarov) čierna",
      "itemUrl": "https://www.datart.sk/autokamera-lamax-s9-dual-cierna.html",
      "img": "https://www.datart.sk/foto/250/3/1/6/product_4106613.jpg",
      "currentPrice": "199.00",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Foto a kamery",
      "Kamery do auta"
      ]
  },
  {
      "itemId": "1587974",
      "itemName": "Osobná váha Beurer BF720 čierna",
      "itemUrl": "https://www.datart.sk/osobna-vaha-beurer-bf720-cierna.html",
      "img": "https://www.datart.sk/foto/250/6/2/1/product_4153126.jpg",
      "currentPrice": "46.90",
      "originalPrice": "74.90",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Starostlivosť o telo a zdravie",
      "Osobné váhy",
      "Inteligentné váhy"
      ]
  },
  {
      "itemId": "1581944",
      "itemName": "Osobná váha Xiaomi Mi Smart Scale 2 white",
      "itemUrl": "https://www.datart.sk/osobna-vaha-xiaomi-mi-smart-scale-2-white.html",
      "img": "https://www.datart.sk/foto/250/8/6/2/product_4053268.jpg",
      "currentPrice": "15.40",
      "originalPrice": "30.69",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Starostlivosť o telo a zdravie",
      "Osobné váhy",
      "Inteligentné váhy"
      ]
  },
  {
      "itemId": "1608341",
      "itemName": "Osobná váha Concept Perfect Health VO4010 biela",
      "itemUrl": "https://www.datart.sk/osobna-vaha-concept-perfect-health-vo4010-biela.html",
      "img": "https://www.datart.sk/foto/250/0/6/6/product_4505660.jpg",
      "currentPrice": "49.00",
      "originalPrice": "59.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Starostlivosť o telo a zdravie",
      "Osobné váhy",
      "Inteligentné váhy"
      ]
  },
  {
      "itemId": "1608342",
      "itemName": "Osobná váha Concept Perfect Health VO4011 čierna",
      "itemUrl": "https://www.datart.sk/osobna-vaha-concept-perfect-health-vo4011-cierna.html",
      "img": "https://www.datart.sk/foto/250/0/3/7/product_4505730.jpg",
      "currentPrice": "49.00",
      "originalPrice": "59.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Starostlivosť o telo a zdravie",
      "Osobné váhy",
      "Inteligentné váhy"
      ]
  },
  {
      "itemId": "1481496",
      "itemName": "Osobná váha Beurer BF700 nerez",
      "itemUrl": "https://www.datart.sk/Osobna-vaha-Beurer-BF-700.html",
      "img": "https://www.datart.sk/foto/250/5/8/6/product_3124685.jpg",
      "currentPrice": "49.90",
      "originalPrice": "74.96",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Starostlivosť o telo a zdravie",
      "Osobné váhy",
      "Inteligentné váhy"
      ]
  },
  {
      "itemId": "780995",
      "itemName": "USB flash disk Verbatim Store 'n' Go V3 64GB (49174) čierny",
      "itemUrl": "https://www.datart.sk/USB-flash-disk-VERBATIM-64GB-USB-Flash-3-0-V3.html",
      "img": "https://www.datart.sk/foto/250/4/4/7/product_4244744.jpg",
      "currentPrice": "11.05",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Notebooky a IT Technika",
      "USB flash disky"
      ]
  },
  {
      "itemId": "1470473",
      "itemName": "USB flash disk SanDisk Ultra Dual 64GB OTG USB-C/USB 3.1 (SDDDC2-064G-G46) čierny/strieborný",
      "itemUrl": "https://www.datart.sk/usb-flash-disk-sandisk-ultra-dual-64gb-otg-usb-c-usb-3-1-sdddc2-064g-g46-cierny-strieborny.html",
      "img": "https://www.datart.sk/foto/250/3/5/9/product_3311953.jpg",
      "currentPrice": "16.90",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Notebooky a IT Technika",
      "USB flash disky"
      ]
  },
  {
      "itemId": "1589075",
      "itemName": "USB flash disk Samsung Bar Plus 32GB (MUF-32BE3/APC) strieborný",
      "itemUrl": "https://www.datart.sk/samsung-usb-3-1-flash-disk-32gb-silver-muf-32be3-apc.html",
      "img": "https://www.datart.sk/foto/250/5/7/4/product_4200475.jpg",
      "currentPrice": "11.09",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Notebooky a IT Technika",
      "USB flash disky"
      ]
  },
  {
      "itemId": "1074913",
      "itemName": "USB flash disk SanDisk Ultra 16GB (SDCZ48-016G-U46) čierny",
      "itemUrl": "https://www.datart.sk/usb-flash-disk-sandisk-ultra-16gb-sdcz48-016g-u46-cierny.html",
      "img": "https://www.datart.sk/foto/250/6/7/4/product_3372476.jpg",
      "currentPrice": "7.60",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Notebooky a IT Technika",
      "USB flash disky"
      ]
  },
  {
      "itemId": "1578775",
      "itemName": "USB flash disk SanDisk Cruzer Snap 64GB (SDCZ62-064G-G35) čierny",
      "itemUrl": "https://www.datart.sk/usb-flash-disk-sandisk-cruzer-snap-64gb-sdcz62-064g-g35-cierny.html",
      "img": "https://www.datart.sk/foto/250/9/3/0/product_3962039.jpg",
      "currentPrice": "13.90",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Notebooky a IT Technika",
      "USB flash disky"
      ]
  },
  {
      "itemId": "1479803",
      "itemName": "Práčka AEG ProSteam® LTX7E273C biela",
      "itemUrl": "https://www.datart.sk/Pracka-vrchom-plnena-AEG-LTX7E273C.html",
      "img": "https://www.datart.sk/foto/250/2/1/5/product_3341512.jpg",
      "currentPrice": "529.00",
      "originalPrice": "622.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Práčky",
      "Práčky s horným plnením"
      ]
  },
  {
      "itemId": "1597617",
      "itemName": "Práčka Whirlpool TDLRB 65332BS EU/N biela",
      "itemUrl": "https://www.datart.sk/pracka-whirlpool-tdlrb-65332bs-eu-n-biela.html",
      "img": "https://www.datart.sk/foto/250/4/0/3/product_4318304.jpg",
      "currentPrice": "409.00",
      "originalPrice": "479.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Práčky",
      "Práčky s horným plnením"
      ]
  },
  {
      "itemId": "1572947",
      "itemName": "Práčka Electrolux PerfectCare 600 EW6T14262 biela farba",
      "itemUrl": "https://www.datart.sk/automaticka-pracka-electrolux-perfectcare-600-ew6t14262-biela.html",
      "img": "https://www.datart.sk/foto/250/8/8/1/product_3888188.jpg",
      "currentPrice": "369.00",
      "originalPrice": "434.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Práčky",
      "Práčky s horným plnením"
      ]
  },
  {
      "itemId": "1482219",
      "itemName": "Práčka AEG ProSteam® LTX7E272C biela",
      "itemUrl": "https://www.datart.sk/null-AEG-LTX7E272C.html",
      "img": "https://www.datart.sk/foto/250/7/6/4/product_3341467.jpg",
      "currentPrice": "489.00",
      "originalPrice": "575.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Práčky",
      "Práčky s horným plnením"
      ]
  },
  {
      "itemId": "1596879",
      "itemName": "Práčka Whirlpool TDLR 55120S CS/N biela",
      "itemUrl": "https://www.datart.sk/pracka-whirlpool-tdlr-55120s-cs-n-biela.html",
      "img": "https://www.datart.sk/foto/250/6/5/0/product_4305056.jpg",
      "currentPrice": "249.00",
      "originalPrice": "319.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Práčky",
      "Práčky s horným plnením"
      ]
  },
  {
      "itemId": "885907",
      "itemName": "Plynová varná platňa Mora VDP 645 GX1 čierna/nerez",
      "itemUrl": "https://www.datart.sk/Vstavana-varna-doska-MORA-VDP-645-GX1.html",
      "img": "https://www.datart.sk/foto/250/2/1/7/product_3336712.jpg",
      "currentPrice": "239.90",
      "originalPrice": "279.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Varné dosky",
      "Plynové varné dosky"
      ]
  },
  {
      "itemId": "885947",
      "itemName": "Plynová varná platňa Mora VDP 665 X nerez",
      "itemUrl": "https://www.datart.sk/Vstavana-varna-doska-MORA-VDP-665-X.html",
      "img": "https://www.datart.sk/foto/250/4/2/7/product_3336724.jpg",
      "currentPrice": "199.00",
      "originalPrice": "219.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Varné dosky",
      "Plynové varné dosky"
      ]
  },
  {
      "itemId": "1540226",
      "itemName": "Plynová varná platňa Electrolux Inspiration KGG6426K čierna",
      "itemUrl": "https://www.datart.sk/plynova-varna-platna-electrolux-inspiration-kgg6426k-cierna.html",
      "img": "https://www.datart.sk/foto/250/7/6/4/product_3566467.jpg",
      "currentPrice": "289.00",
      "originalPrice": "340.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Varné dosky",
      "Plynové varné dosky"
      ]
  },
  {
      "itemId": "1585653",
      "itemName": "Plynová varná platňa Amica DP 6411 LZBG čierna",
      "itemUrl": "https://www.datart.sk/plynova-varna-platna-amica-dp-6411-lzbg-cierna.html",
      "img": "https://www.datart.sk/foto/250/3/9/2/product_4121293.jpg",
      "currentPrice": "188.90",
      "originalPrice": "189.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Varné dosky",
      "Plynové varné dosky"
      ]
  },
  {
      "itemId": "1598539",
      "itemName": "Plynová varná platňa Whirlpool GOFL 629/S",
      "itemUrl": "https://www.datart.sk/plynova-varna-platna-whirlpool-gofl-629-s.html",
      "img": "https://www.datart.sk/foto/250/0/1/5/product_4328510.jpg",
      "currentPrice": "234.00",
      "originalPrice": "299.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Varné dosky",
      "Plynové varné dosky"
      ]
  },
  {
      "itemId": "1362679",
      "itemName": "Príslušenstvo Vivanco silikonové pady pro mikrosluchátka, 6ks biele",
      "itemUrl": "https://www.datart.sk/Prislusenstvo-k-sluchadlam-VIVANCO-V-33842-Nahradni-silikonove-pady-pro-sluchatka-bile.html",
      "img": "https://www.datart.sk/foto/250/1/9/4/product_3345491.jpg",
      "currentPrice": "2.90",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Televízory, Audio, Video",
      "Slúchadlá",
      "Príslušenstvo k slúchadlám"
      ]
  },
  {
      "itemId": "1570846",
      "itemName": "Držiak König & Meyer 16080 na sluchátka (KaM 16080)",
      "itemUrl": "https://www.datart.sk/drziak-konig-meyer-na-sluchatka-kam-16080.html",
      "img": "https://www.datart.sk/foto/250/8/8/3/product_3826388.jpg",
      "currentPrice": "11.90",
      "originalPrice": "12.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Televízory, Audio, Video",
      "Slúchadlá",
      "Príslušenstvo k slúchadlám"
      ]
  },
  {
      "itemId": "1621232",
      "itemName": "Púzdro iDeal Of Sweden pro Apple Airpods - Crystal Green Sky (IDFAPC-230)",
      "itemUrl": "https://www.datart.sk/puzdro-ideal-of-sweden-pro-apple-airpods-crystal-green-sky-idfapc-230.html",
      "img": "https://www.datart.sk/foto/250/6/4/3/product_4703346.jpg",
      "currentPrice": "30.90",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Televízory, Audio, Video",
      "Slúchadlá",
      "Príslušenstvo k slúchadlám"
      ]
  },
  {
      "itemId": "1614078",
      "itemName": "Adaptér Intezze Wireless HUB čierny",
      "itemUrl": "https://www.datart.sk/adapter-intezze-wireless-hub-cierny.html",
      "img": "https://www.datart.sk/foto/250/0/9/9/product_4609990.jpg",
      "currentPrice": "65.90",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Televízory, Audio, Video",
      "Slúchadlá",
      "Príslušenstvo k slúchadlám"
      ]
  },
  {
      "itemId": "1602907",
      "itemName": "Držiak SONOS pro Move (MVWHKWW1BLK) čierny",
      "itemUrl": "https://www.datart.sk/drzak-na-zed-pro-sonos-move-cerny-mvwhkww1blk.html",
      "img": "https://www.datart.sk/foto/250/0/1/7/product_4417710.jpg",
      "currentPrice": "79.34",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Príslušenstvo",
      "Príslušenstvo k televízorom",
      "Držiaky pre TV"
      ]
  },
  {
      "itemId": "1589251",
      "itemName": "Kombinácia chladničky s mrazničkou Samsung RB8000 RB36R883PSR/EF nerez",
      "itemUrl": "https://www.datart.sk/kombinacia-chladnicky-s-mraznickou-samsung-rb8000-rb36r883psr-ef-nerez.html",
      "img": "https://www.datart.sk/foto/250/6/3/0/product_4621036.jpg",
      "currentPrice": "754.00",
      "originalPrice": "1149.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Chladničky",
      "Kombinované chladničky s mrazničkou dole"
      ]
  },
  {
      "itemId": "1609422",
      "itemName": "Kombinácia chladničky s mrazničkou Whirlpool WB70E 973 W biela",
      "itemUrl": "https://www.datart.sk/kombinacia-chladnicky-s-mraznickou-whirlpool-wb70e-973-w-biela.html",
      "img": "https://www.datart.sk/foto/250/2/2/6/product_4531622.jpg",
      "currentPrice": "819.00",
      "originalPrice": null,
      "discounted": false,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Chladničky",
      "Kombinované chladničky s mrazničkou dole"
      ]
  },
  {
      "itemId": "1565463",
      "itemName": "Kombinácia chladničky s mrazničkou LG GBB72SADFN nerez",
      "itemUrl": "https://www.datart.sk/kombinacia-chladnicky-s-mraznickou-lg-gbb72sadfn.html",
      "img": "https://www.datart.sk/foto/250/0/6/1/product_4649160.jpg",
      "currentPrice": "699.00",
      "originalPrice": "899.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Chladničky",
      "Kombinované chladničky s mrazničkou dole"
      ]
  },
  {
      "itemId": "1611288",
      "itemName": "Kombinácia chladničky s mrazničkou Hisense RB424N4AFD čierna",
      "itemUrl": "https://www.datart.sk/kombinacia-chladnicky-s-mraznickou-hisense-rb424n4afd-cierna.html",
      "img": "https://www.datart.sk/foto/250/1/3/6/product_4667631.jpg",
      "currentPrice": "538.90",
      "originalPrice": "559.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Chladničky",
      "Kombinované chladničky s mrazničkou dole"
      ]
  },
  {
      "itemId": "1587387",
      "itemName": "Kombinácia chladničky s mrazničkou Bosch Serie | 4 KGN39VLEA nerez",
      "itemUrl": "https://www.datart.sk/kombinacia-chladnicky-s-mraznickou-bosch-serie-4-kgn39vlea.html",
      "img": "https://www.datart.sk/foto/250/2/9/6/product_4158692.jpg",
      "currentPrice": "539.00",
      "originalPrice": "849.00",
      "discounted": true,
      "currency": "EUR",
      "category": [
      "Veľké spotrebiče",
      "Chladničky",
      "Kombinované chladničky s mrazničkou dole"
      ]
  }
  ];

 // defaultní hodnota počtu produktů na stránku
let defaultProductsPerPage = 4;

function printItems(items, offset) {
    // const dataContent = $('#products');
    const dataContent = document.getElementById('products');
    // dataContent.empty();
    dataContent.innerHTML = "";
    offset = parseInt(offset);
    // funkce .slice(od, do) - vraci cast pole od - do
    items = items.slice(offset, (offset + defaultProductsPerPage));

    for (const item of items) {
        const newItemCard = '<div class="card col-3">' +
        `<img src="${item.img}" class="card-img-top" alt="...">` +
        '<div class="card-body">' +
        `<h5 class="card-title">${item.itemName}</h5>` +
        `<p class="card-text">${item.currentPrice}</p>` +
        '</div>' +
        '</div>';
        // dataContent.append(newItemCard);
        dataContent.innerHTML += newItemCard;
    }
}
function printNavigation() {
    // Získání elementu navigace
    // const pagination = $('#pagination');
    const pagination = document.getElementById("pagination");
    //smazání obsahu v získaném elementu
    pagination.innerHTML = "";
    // výpočet stránek pro stránkování přes pole produktů [data]
    const productsLength = data.length;
    const pages = Math.ceil(productsLength / defaultProductsPerPage);
    // Vkládání nových stránek do navigace
    for(let i = 1; i <= pages; i++) {
        const newPage = `<li class="page-item"><a class="page-link" data-offset="${(i - 1) * defaultProductsPerPage}" href="#">${i}</a></li>`
        
        pagination.innerHTML = pagination.innerHTML + newPage;
        // pagination.append(newPage);
    }

    // Navěšení události 'click' na stránkování
    const pageLinks = document.getElementsByClassName("page-link");
    for(const p of pageLinks) {
        p.addEventListener('click', function(event) {
            // Získání atributu offset pro stránkování
            const offset = event.target.getAttribute('data-offset');
            // Znovu vykreslení produktů
            printItems(data, offset);
        })
    }
}
/*
    Čeká na načtení kompletního HTML dokumentu
    Po načtení volá zadanou funkci
*/
// document.addEventListener('nazev udalosti', 'co delat kdyz udalost nastane');
document.addEventListener("DOMContentLoaded", function() {
    printNavigation();
    printItems(data, 0);
    // Získání <select> elementu #perPage
    const perPageSelect = document.getElementById("perPage");
    // Navěšení události 'change' na <select>
    perPageSelect.addEventListener('change', function(event) {
        // získání hodnoty z <option> toho selectu
        const newLimit = parseInt(event.target.value);
        defaultProductsPerPage = newLimit;
        // volani funkci na znovu vykresleni obsahu stránky
        printItems(data, 0);
        printNavigation();
    });
});
// $( document ).ready(function() {
//     printNavigation();
//     printItems(data, 0);
//     $(".page-link").click(function (event) {
//         event.preventDefault();
//         const offset = $(this).attr('data-offset');
//         printItems(data, offset);
//       });
// });